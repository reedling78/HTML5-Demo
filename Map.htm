<!DOCTYPE html>
<html>
	<head>
		<script type="text/javascript" src="scripts/Modernizr.js" ></script>
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
		<script type="text/javascript" src="scripts/jquery-1.7.2.min.js"></script>
		<script type="text/javascript" src="scripts/jquery.ui.map.js" ></script>
		<script type="text/javascript" src="scripts/jquery.ui.map.extensions.js" ></script>

		<script>
			$(document).ready(function() {
				$('#map_canvas').gmap().bind('init', function(evt, map) {
					$('#map_canvas').gmap('getCurrentPosition', function(position, status) {
						if(status === 'OK') {

							var clientPosition = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
							
							$('#spanlatitude').html(position.coords.latitude);
							$('#spanlongitude').html(position.coords.longitude);

							$('#map_canvas').gmap('addMarker', {
								'position' : clientPosition,
								'bounds' : true
							});

							$('#map_canvas').gmap('addShape', 'Circle', {
								'strokeWeight' : 0,
								'fillColor' : "#008595",
								'fillOpacity' : 0.25,
								'center' : clientPosition,
								'radius' : 15,
								'clickable' : false
							});

							
						}
					});
				});
			})

		</script>
	</head>
	<body>
		<section>
			<div id="map_canvas" style="height:500px;"></div>
			<label>latitude: </label><span id="spanlatitude"></span>
			<label>longitude: </label><span id="spanlongitude"></span>
		</section>
	<div style="position:absolute;filter:alpha(opacity=0);opacity:0.001;z-index:10;">                                                                                                                                                            </div></body>
</html>
